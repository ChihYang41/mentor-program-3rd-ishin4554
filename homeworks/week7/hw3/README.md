# 需求邏輯
計算機，輸入數字，按運算，輸入數字，按運算 ... 最後等於的時候會終止結果，可以透過 c 來消除全部的運算（沒有區分 ac, c）

# 第一版回顧
注意：第一版心得是在四周後以回憶的方式撰寫，盡可能還原但可能會與現實有一點點差別。

原本的核心邏輯比較複雜，因為家用計算機在計算上除了上述的功能完還有一個表現，如果你重複按運算符號、他會根據上一個數字重複計算，原本基於這個邏輯下去規劃，但發現以原本預計的時間來說過於複雜，所以止於需求中敘述的邏輯。

根據這個邏輯計算機會分成三個部分：
1. 顯示
2. 運算
3. 數字

理想的狀態中，顯示應該會跟著背後的一個數字 array 來變動（其實也就是希望可以實踐出聽前輩們說過的 MVC 了），所以顯示的部分是直接刷新，會把輸入過的數字存在一個暫存的 array 之中，每一次輸入就會把 array `join` 起來刷新頻幕，而消除畫面的做法也同樣是對 array 用 `splice(0, length)` 進行清空。除了顯示上有 array 來儲存輸入數字的變動，同時也有一個實際再進行運算的數字以總和的方式在進行運算。

而在顯示的過程中，有一個大問題，小數點的呈現方式，如果今天 array 都是數字可以 `toString` 了事，但涉及小數點的換算就需要再多一層處理。所以根據上述運算會被拆解成：加減乘除的運算與換算，換算的部分是抓取小數點出現的位置進行 10 次方的換算，這邊學到 `Math.pow` 的新語法 ** 滿好用的。

接著加減乘除的部分，因應加減乘除要對不同的符號最不同的處理，在不使用 `eval()` 的情況下 [^1]，最後是寫 switch case 來處理。而整個計算機的 listener 基本上學以致用使用 bubbling 來抓按鈕，用這個方式來接收數字。

# 第二版重構
注意：本版以 clean code 為目標進行重構

重構的過程中覺得架構的方向沒有錯，但資料架構上應該可以在被優化，有沒有可能是 **只有輸入過程的數據** 就能進行運算？
以資料結構來說，這樣需要善用 Queue 的概念，在 Queue 的資料結構下，原本的邏輯部分會變成這樣：

1. 顯示：由於顯示的過程中會遇到匯入的數字狀態不同，所以第一次用了 `typeof` 來做類型判斷。
2. 運算：每遇到符號先 pop 掉符號作為 condition，接著 deque 前面的所有數字，接著對總和進行運算。
3. 轉換：把小數字串變成小數，這邊發現其實 `Number()` 語法可以直接偵測小數非常方便。

其中寫的時候覺得資料鍊太長有一些維護上的困難，但是簡化了資料的形式，例如：原本用了三個陣列來保留符號、數字總和與現在儲存的字串的狀態，現在只用了兩個變數一個 Queue 就能做到數字運算。

# 第三版 OOP 重構
注意：本版以物件導向為目標進行重構

# Code Review 

## 老師解說 
## 原版
## 同學作業
## 前兩期作業